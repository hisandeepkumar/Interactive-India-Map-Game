<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>India Map Match ‚Äî Neon Game</title>
<style>
  :root {
    --bg: #0b0f1a;
    --panel: #101629;
    --text: #e6f0ff;
    --muted: #9ab0ff;
    --accent: #84a9ff;
    --neon1: #00e5ff;
    --neon2: #4dff91;
    --bad: #ff5e7a;
    --good: #5dffa1;
  }
  html, body {
    height: 100%;
    margin: 0;
    background: radial-gradient(1200px 800px at 70% 0%, #0f1630, var(--bg));
    color: var(--text);
    font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
    overflow: hidden;
  }
  .container {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 16px;
    box-sizing: border-box;
    gap: 12px;
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 12px;
  }
  h1 {
    font-size: 20px;
    letter-spacing: 0.5px;
    margin: 0;
    text-shadow: 0 0 12px rgba(0, 229, 255, 0.4);
  }
  .hint {
    font-size: 12px; 
    opacity: 0.8; 
    color: var(--muted); 
    text-align: center;
    margin: 0;
  }
  .actions {
    display: flex; 
    gap: 8px; 
    justify-content: center;
    flex-wrap: wrap;
  }
  button {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.12);
    background: linear-gradient(180deg, #1a2240, #101629);
    color: var(--text);
    padding: 10px 14px;
    border-radius: 12px;
    cursor: pointer;
    transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
    box-shadow: 0 0 0 rgba(0, 229, 255, 0);
    font-size: 14px;
  }
  button:hover {
    transform: translateY(-1px);
    border-color: rgba(132,169,255,.8);
    box-shadow: 0 0 18px rgba(0, 229, 255, 0.25), 0 0 30px rgba(77, 255, 145, 0.15);
  }
  .pill {
    display: inline-block;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.08);
    font-size: 12px;
    margin-right: 6px;
  }
  
  /* Main merged container */
  .merged-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    border-radius: 20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: 0 0 40px rgba(0, 229, 255, 0.06), inset 0 0 60px rgba(77, 255, 145, 0.03);
    backdrop-filter: blur(6px);
    min-height: 0;
  }
  
  /* Map area - takes available space */
  .map-area {
    flex: 1;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px;
    box-sizing: border-box;
    min-height: 0;
    overflow: hidden;
  }
  
  /* SVG styling */
  .map {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .map svg { 
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }
  
  .map path { 
    fill: #203058; 
    stroke: rgba(255,255,255,0.6); 
    stroke-width: .6; 
    transition: fill .15s linear, opacity .2s ease, filter .2s ease, stroke .2s ease; 
  }
  .map path:hover { 
    filter: drop-shadow(0 0 6px rgba(0,229,255,.6)); 
  }
  .map.dimmed path { 
    opacity: .25; 
  }
  .map path.active { 
    fill: #2f4c8a; 
    opacity: 1 !important; 
  }
  .map path.placed {
    transition: fill 0.5s ease, stroke 0.5s ease;
  }
  .map path.correct { 
    stroke-width: 1.5;
    fill: rgba(93, 255, 161, 0.2);
    filter: drop-shadow(0 0 12px #5dffa1);
    animation: pulse-green 2s infinite;
  }
  .map path.wrong { 
    stroke-width: 1.5;
    fill: rgba(255, 94, 122, 0.2);
    filter: drop-shadow(0 0 12px #ff5e7a);
    animation: pulse-red 2s infinite;
  }
  
  @keyframes pulse-green {
    0% { 
      filter: drop-shadow(0 0 8px #5dffa1);
      fill: rgba(93, 255, 161, 0.15);
    }
    50% { 
      filter: drop-shadow(0 0 16px #5dffa1);
      fill: rgba(93, 255, 161, 0.25);
    }
    100% { 
      filter: drop-shadow(0 0 8px #5dffa1);
      fill: rgba(93, 255, 161, 0.15);
    }
  }
  
  @keyframes pulse-red {
    0% { 
      filter: drop-shadow(0 0 8px #ff5e7a);
      fill: rgba(255, 94, 122, 0.15);
    }
    50% { 
      filter: drop-shadow(0 0 16px #ff5e7a);
      fill: rgba(255, 94, 122, 0.25);
    }
    100% { 
      filter: drop-shadow(0 0 8px #ff5e7a);
      fill: rgba(255, 94, 122, 0.15);
    }
  }
  
  .map path.glow { 
    animation: glow 2s infinite alternate;
    stroke-width: 1.5;
    fill: rgba(255, 94, 122, 0.2);
  }
  
  @keyframes glow {
    from {
      filter: drop-shadow(0 0 8px #ff5e7a);
      fill: rgba(255, 94, 122, 0.15);
    }
    to {
      filter: drop-shadow(0 0 16px #ff5e7a);
      fill: rgba(255, 94, 122, 0.25);
    }
  }
  
  /* State names panel - no scroll, dynamic height */
  .state-panel {
    background: rgba(16,22,41,0.9);
    border-top: 1px solid rgba(255,255,255,0.08);
    padding: 12px 16px;
    backdrop-filter: blur(6px);
    overflow: visible;
    max-height: none;
  }
  
  .state-list-container {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
    align-items: center;
    overflow: visible;
  }
  
  .state-name {
    display: inline-flex; 
    align-items: center; 
    gap: 8px;
    padding: 8px 12px; 
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 999px;
    background: #0f1731;
    font-size: 13px;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 0 0 rgba(0, 229, 255, 0);
    transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease, border-color .2s ease;
    position: relative;
  }
  .state-name:hover { 
    transform: translateY(-1px); 
    box-shadow: 0 0 14px var(--neon-glow, rgba(0, 229, 255, 0.25)); 
  }
  .state-name.selected { 
    box-shadow: 0 0 22px var(--neon-glow, rgba(0,229,255,.45)), inset 0 0 18px rgba(77,255,145,.25); 
  }
  .state-name.removed { 
    opacity: .25; 
    pointer-events: none; 
    text-decoration: line-through; 
  }
  .state-name.correct {
    background: rgba(93, 255, 161, 0.1);
    border-color: #5dffa1;
    box-shadow: 0 0 12px rgba(93, 255, 161, 0.4);
  }
  .state-name.wrong {
    background: rgba(255, 94, 122, 0.1);
    border-color: #ff5e7a;
    box-shadow: 0 0 12px rgba(255, 94, 122, 0.4);
  }
  
  .footer-note { 
    font-size: 12px; 
    color: var(--muted); 
    text-align: center;
  }
  
  .score {
    text-align: center;
    font-size: 16px;
    margin-top: 8px;
    font-weight: bold;
  }

  .game-status {
    text-align: center;
    font-size: 14px;
    margin: 8px 0;
    color: var(--accent);
  }

  .timer {
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    color: #ff5e7a;
    text-shadow: 0 0 10px rgba(255, 94, 122, 0.7);
    margin: 8px 0;
  }

  /* Modal styles for past scores */
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    justify-content: center;
    align-items: center;
  }

  .modal-content {
    background: var(--panel);
    border-radius: 20px;
    padding: 20px;
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 40px rgba(0, 229, 255, 0.2);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .modal-title {
    font-size: 18px;
    margin: 0;
    color: var(--accent);
  }

  .close-btn {
    background: none;
    border: none;
    color: var(--text);
    font-size: 24px;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .score-item {
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
    padding: 12px;
    margin-bottom: 10px;
    border: 1px solid rgba(255,255,255,0.08);
  }

  .score-item:last-child {
    margin-bottom: 0;
  }

  .score-header {
    display: flex;
    justify-content: space-between;
    font-weight: bold;
    margin-bottom: 5px;
  }

  .score-date {
    color: var(--muted);
    font-size: 12px;
  }

  .score-details {
    display: flex;
    justify-content: space-between;
    font-size: 14px;
  }

  .score-value {
    color: var(--good);
  }

  .score-time {
    color: var(--accent);
  }

  .empty-scores {
    text-align: center;
    color: var(--muted);
    padding: 20px;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .container {
      padding: 12px;
      gap: 10px;
    }
    .header {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    h1 {
      font-size: 18px;
    }
    .actions {
      gap: 6px;
    }
    button {
      padding: 8px 12px;
      font-size: 13px;
    }
    .state-name {
      font-size: 12px;
      padding: 6px 10px;
    }
    .state-panel {
      padding: 10px 12px;
    }
    .map-area {
      padding: 10px;
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 8px;
      gap: 8px;
    }
    h1 {
      font-size: 16px;
    }
    .pill {
      font-size: 11px;
      padding: 4px 8px;
    }
    .state-panel {
      padding: 8px 10px;
    }
    .state-name {
      font-size: 11px;
      padding: 5px 8px;
    }
    .hint {
      font-size: 11px;
    }
    .map-area {
      padding: 8px;
    }
  }

  @media (max-width: 360px) {
    .state-name {
      font-size: 10px;
      padding: 4px 7px;
    }
    .state-list-container {
      gap: 6px;
    }
    .state-panel {
      padding: 6px 8px;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üó∫Ô∏è India Map Match Game</h1>
      <div>
        <span class="pill" id="remainingCount">Remaining: ‚Äî</span>
        <span class="pill" id="scoreCount">Score: 0</span>
      </div>
    </div>
    
    <p class="hint">Start Game dabao ‚Üí Map par ek state glow karega ‚Üí State list se sahi naam select karo</p>
    
    <div class="actions">
      <button id="btnStart">Start Game</button>
      <button id="btnStop" disabled>Stop Game</button>
      <button id="btnReset">Reset</button>
      <button id="btnScores">Past Scores</button>
    </div>
    
    <div class="timer" id="timerDisplay">00:00</div>
    <div class="game-status" id="gameStatus">Game start karne ke liye Start Game dabao</div>
    
    <!-- Single merged container for map and names -->
    <div class="merged-container">
      <!-- Map area -->
      <div class="map-area">
        <div id="map" class="map">
          <svg
             xmlns:mapsvg="http://mapsvg.com"
             xmlns:dc="http://purl.org/dc/elements/1.1/"
             xmlns:cc="http://creativecommons.org/ns#"
             xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
             xmlns:svg="http://www.w3.org/2000/svg"
             xmlns="http://www.w3.org/2000/svg"
             version="1.1"
             id="svg2"
             viewBox="0 0 611.85999 695.70178"
             preserveAspectRatio="xMidYMid meet"
          >
            <path
     id="IN-AN"
     title="Andaman and Nicobar Islands"
     d="m 537.188,685.44148 -0.041,0.4695 0.768,0.30627 0.104,2.47542 1.258,1.84675 -0.71,-0.0232 0.661,0.93295 -0.574,0.18739 -0.437,0.94503 0.103,1.88201 -0.409,0.42617 -0.663,-0.49065 -0.502,1.30269 -0.461,-0.2156 0.224,-1.08911 -0.606,-0.31434 -0.121,-1.2503 -0.813,-0.73346 0.069,-0.77879 -1.076,-1.12336 -0.646,0.17933 -0.121,-1.96159 0.365,-0.27304 -0.4,-0.27001 0.64,-1.36616 0.994,0.0584 0.564,-0.57427 0.878,0.27505 0.092,-0.68006 0.86,-0.14307 z m -2.826,-4.29496 0.895,1.77017 -2.249,2.47845 -0.57,-1.39035 0.238,-1.31478 1.704,-0.4695 -0.018,-1.07399 z m -6.972,-12.28743 0.62,0.37378 0.054,0.95511 0.372,-0.12392 0.733,0.79995 -0.07,1.22108 -0.819,-0.73849 -1.384,0.38789 -0.288,-0.63372 0.323,-0.48259 -0.855,0.17027 0.198,-1.45785 1.116,-0.47151 z m 3.502,-0.0695 0.743,0.76973 -0.11,1.34098 -1.472,-1.19389 0.529,-0.85234 0.383,0.60853 -0.073,-0.67301 z m 0.656,-2.05731 0.291,1.85178 -0.652,-1.69864 0.361,-0.15314 z m -1.091,-2.2447 0.394,0.70928 -0.884,1.04981 0.947,1.26743 0.041,1.10422 -0.412,-0.27001 -0.465,0.31837 -0.158,0.77476 -0.325,-0.99943 0.426,0.0796 0.114,-0.58536 0.146,0.45237 0.247,-0.67099 -0.938,0.56621 0.092,-0.83824 -0.627,-0.64883 -0.116,-1.08809 1.518,-1.22109 z m -6.096,-0.7264 0.087,0.94704 -0.404,-0.51281 0.317,-0.43423 z m -2.282,-1.91123 0.359,0.19848 -0.356,1.48404 1.639,1.28758 -0.11,0.45942 -1.593,-0.57024 -0.756,-1.02865 0.157,-1.47599 0.66,-0.35464 z m -1.725,-2.48851 0.285,0.72439 -0.466,-0.2005 0.181,-0.52389 z m 11.976,-2.12381 0.554,2.22556 -0.33,0.0282 -0.08,0.96619 -0.144,-3.21996 z m -17.337,-14.22082 0.765,1.02563 0.632,-0.27504 -0.606,0.35464 0.105,1.13444 -0.86,0.46244 -1.209,-0.15818 -0.228,-1.89409 0.96,-0.0353 0.151,-0.86645 0.29,0.25187 z m -5.693,-35.18985 0.303,0.69114 0.034,-0.42113 0.553,0.46244 0.043,1.32486 0.571,0.30426 0.19,2.31624 -1.188,1.3984 0.616,0.72339 -1.181,1.43165 -1.64,-0.7798 -1.035,0.34255 0.738,-1.75809 -0.843,-1.12537 -0.088,-2.43411 0.448,0.45035 1.244,-2.15202 0.892,-0.62565 0.231,0.45942 0.112,-0.60853 z m 2.629,-13.08436 0.929,1.5727 -0.763,0.62868 0.924,0.42415 -0.055,0.36472 -1.862,0.51684 -0.434,-0.43927 0.123,-0.72237 0.751,-0.10478 -0.195,-1.47195 0.582,-0.76872 z m -0.926,-0.67402 -0.284,0.15415 0.186,-0.91783 0.098,0.76368 z m -7.918,-1.08407 1.085,0.17632 -0.019,1.31679 -1.158,-0.1481 0.092,-1.34501 z m 6.716,-0.23474 0.622,0.3093 -0.822,0.74252 0.2,-1.05182 z m 10.071,-5.13723 1.075,0.16624 -0.465,0.49972 -0.716,-0.34457 0.106,-0.32139 z m -1.074,-4.07532 0.271,-0.21158 0.564,0.52793 0.933,2.47844 -0.237,0.44733 -0.886,-1.45482 -0.543,0.0383 -1.023,-1.01455 0.826,-1.1556 0.095,0.34457 z m 0.412,-1.48405 0.074,1.27046 -0.647,-0.61256 -0.046,-0.72641 0.619,0.0685 z m 0.807,-1.15963 0.371,2.3918 -0.807,-0.65185 0.006,-0.67401 -1.081,-0.74958 0.615,-0.12695 0.421,0.57831 0.475,-0.76772 z m 0.855,-1.16466 0.553,1.47598 -0.427,1.26038 -0.784,-1.06593 0.658,-1.67043 z m -7.699,-0.52088 0.06,1.5052 0.968,-0.15717 -0.584,2.06436 1.288,0.63271 -0.452,0.56521 -0.476,-0.43625 -0.055,0.53498 0.673,0.36169 -1.042,0.80298 0.111,2.37769 0.468,-1.74801 0.792,-0.0836 0.084,0.74555 -0.687,4.25768 -0.257,-0.22467 -0.058,0.48561 -0.813,-0.3637 0.133,0.79189 -0.88,0.34759 0.156,0.61356 0.294,-0.32945 0.144,0.38285 0.739,-0.78081 -0.176,-0.57931 0.734,0.44632 -0.947,4.02394 -0.272,-0.63674 -1.076,-0.31937 0.008,-1.07601 -0.615,0.20452 -0.202,-1.21806 0.583,0.0897 0.174,-0.4433 -0.264,-0.31233 -0.496,0.35061 -0.418,-1.78427 -0.55,0.50173 -0.324,-3.01141 -0.489,0.20553 -0.198,-0.48058 1.023,-2.1097 0.51,1.2624 0.312,-0.20553 0.053,0.83421 0.144,-0.28009 0.264,-4.95991 1.616,-2.84819 z m 0.75,0.37277 0.37,-0.0131 -0.121,0.73346 -0.526,-0.0897 0.277,-0.6307 z m 3.455,-0.807 0.246,0.70021 -0.456,-0.22971 -0.099,0.44733 -0.164,-0.60853 0.473,-0.3093 z m 3.685,-0.13097 0.187,0.52994 0.404,-0.49267 -0.109,1.20698 -0.783,-0.54102 0.301,-0.70323 z m -2.854,-0.40401 -0.404,1.06996 -0.432,-1.22915 0.529,0.16423 0.161,-0.64379 0.146,0.63875 z m -3.45,-0.63271 1.278,0.37076 0.601,-0.27102 0.48,0.85134 -0.638,0.43221 0.453,1.08709 -0.71,-0.0554 0.088,0.85738 -0.591,-0.16523 -0.426,0.74152 0.215,0.5108 -1.001,0.93596 -0.534,-0.67401 0.644,-3.04566 -0.578,-0.18639 0.169,-0.60651 0.297,0.21459 0.359,-0.45639 -0.106,-0.54103 z m 22.254,-0.22568 0.744,0.70223 0.114,1.10321 -1.131,-0.17632 -0.248,-0.86644 0.521,-0.76268 z m -18.511,-2.01398 -0.482,1.18481 -0.272,-0.10982 0.235,-1.08406 0.519,0.009 z m -5.117,-8.89721 0.142,2.36661 -0.486,-1.68957 0.344,-0.67704 z m 3.934,-1.86588 0.482,0.0766 -0.353,0.58737 0.48,0.0252 0.547,1.64928 -0.418,0.71431 0.97,1.37624 -0.47,1.44375 0.217,3.1313 -0.76,0.34254 -0.021,0.31938 0.562,-0.0403 -0.893,0.51483 -0.017,0.81204 -1.764,-0.46949 1.351,2.31019 -1.306,0.3758 -1.274,-0.36774 -0.351,0.51584 -0.719,-0.0997 -0.439,-0.60551 0.168,-5.76087 -0.481,-0.23978 0.412,0.0141 1.029,-1.36013 -0.528,-0.48057 0.377,-0.63069 -0.465,-2.24672 0.291,0.36068 1.548,-1.94044 0.653,0.52189 0,0 0.628,-0.14911 0,0 0.544,-0.70021 z m -4.254,-1.63618 0.507,0.29217 0.034,1.9344 -0.425,1.01455 -0.541,0.11385 0.285,0.41105 -0.437,0.73447 -0.419,-1.68957 0.448,-2.16209 0.548,-0.64883 z m 6.511,-0.1078 -0.569,0.64379 0.07,0.69819 -0.646,-0.12996 0.163,-1.03974 0.261,0.42416 0.721,-0.59644 z m 0.475,-12.41236 0.326,1.0357 -0.216,1.94044 0.222,0.67603 0.337,-0.37076 0.198,0.32341 -0.326,0.51483 0.739,0.99642 -0.519,0.70726 -0.691,-0.90876 -0.617,-0.1743 -0.355,0.52692 -0.337,-0.67502 -0.412,0.35161 1.233,0.51483 0.063,0.93395 0.704,-0.11384 -0.007,0.49065 0.437,-0.28714 -0.721,2.016 0.056,2.10668 -0.648,1.12739 -0.797,-0.13904 0.185,0.47655 -0.837,-1.03369 -0.385,0.14709 -0.306,0.69517 0.771,1.08609 -0.548,0.53195 -0.113,-0.82715 -0.517,0.0494 -0.583,1.18884 0.388,0.95007 0,0 -0.628,0.14911 0,0 -1.021,-0.81909 -10e-4,-1.5314 0.505,-0.0242 0.143,-0.55815 -0.769,-0.1209 0.174,-1.53039 0.535,-0.14911 -0.256,-0.65689 0.785,-0.26396 -0.791,-0.29923 0.378,-1.79838 0.559,-0.44229 -0.669,-0.43121 0.413,-0.53196 -0.431,-0.16825 0.372,-1.40042 0.576,-0.23172 -0.5,-0.35867 0.518,0 0.343,-0.59241 -0.262,-0.89869 1.21,-0.65286 -0.25,-0.74756 0.989,-0.1743 0.506,0.35867 -0.023,-0.97626 0.467,0.67099 0.404,-0.67804 z m -0.285,-2.21549 0.251,1.06089 -1.069,-0.6055 0.818,-0.45539 z m 13.096,-26.52437 -0.617,1.4518 0.021,-0.82615 0.596,-0.62565 z" />
  <path
     id="IN-AP"
     title="Andhra Pradesh"
     d="m 295.438,482.23741 -0.002,0.007 0,0 0.002,-0.007 z m 0.652,-0.0393 -0.389,2.49054 -0.753,-1.07903 -0.016,-0.80298 1.158,-0.60853 z m -0.652,0.0393 -0.122,-0.62767 -0.272,0.4433 -1.262,0.0977 -0.058,-0.73144 -0.901,0.58133 1.737,0.7667 0,0 -0.023,1.03873 0.454,0.14004 0.663,1.50017 -7.647,3.77106 -4.692,1.85681 -3.756,-1.06895 -3.105,0.36975 -2.669,1.33493 -2.599,5.73367 0.099,0.96921 -2.908,3.10007 -0.273,0.46546 0.384,0.87048 -0.948,0.83521 -3.03,0.41106 -0.866,-1.47094 0.261,-0.7788 0.373,0.006 -0.117,-0.58032 -2.482,-0.87249 -3.128,0.60651 -2.228,1.07097 -1.913,1.26945 -1.459,1.6402 -1.448,4.49646 -2.123,3.3872 -1.075,5.04353 1.396,7.50586 1.762,3.11215 -1.448,10.08303 2.407,6.52153 -0.174,3.87786 1.651,4.44205 -3.018,-5.51604 -0.564,-0.25692 -0.116,1.91022 -0.617,-0.62263 0.355,-0.61659 -0.401,-0.0776 -1.169,1.85077 2.315,2.12481 1.569,0.0363 1.581,1.4105 0,0 0.001,1.1425 -0.756,-0.42516 -0.956,-1.89007 -1.638,-0.0433 -1.73,-1.26642 -1.577,0.17228 -0.083,0.42113 0.891,0.17833 0.069,0.37378 -0.631,-0.0705 -0.22,0.60953 -0.702,0.17631 0.029,0.71936 -0.644,0.29217 0.441,0.65084 -0.587,0.82111 -1.556,0.70021 -1.065,-0.0191 -0.429,0.47957 -0.538,-0.44632 -0.687,0.65789 1.332,1.04982 -0.848,0.61457 -0.451,-0.57931 -0.714,0.31131 0.153,-0.57024 -0.476,0.0957 -0.1,-1.1294 -1.848,0.78685 -0.66,-0.46848 -0.271,-0.94604 -2.238,-0.27001 -1.136,0.44229 1.056,0.46748 -0.297,1.49009 0.529,-0.38084 0.197,0.28109 -0.5,0.17732 0.045,0.45338 -1.591,0.5249 0.142,0.71633 -0.976,0.70626 -0.849,-0.95309 -1.027,0.1219 -10e-4,0.68107 -0.615,0.41509 -0.758,1.66338 -1.751,-0.1471 -1.873,-1.34097 -1.365,0.1884 -0.438,0.70222 0.653,0.35464 -0.895,-0.0232 -0.123,-1.42964 -2.722,0.87753 -0.912,-0.23072 -0.182,1.11329 -0.893,-0.29117 -0.784,0.83925 0.691,1.28657 -0.439,-0.004 -0.916,3.18974 -0.762,0.57729 0.044,1.25333 -0.487,0.12694 -0.176,-0.51281 0,0 0,0 0,0 -0.114,0.0373 -0.358,-0.0363 -0.102,0.86242 -0.647,0.0222 0.041,0.96316 -1.911,0.1199 -1.63,-0.88257 -0.545,-0.83622 -1.561,0.22668 0.782,-0.72741 -0.137,-0.80398 0,0 0.428,-2.03716 1.298,0.005 0.886,-1.73995 0.689,0.70726 1.203,-0.11788 -0.275,-1.46087 0.738,0.11486 -0.133,-1.46792 1.11,-0.4564 -0.056,-0.62163 0.545,-0.33751 -0.402,-0.47957 1.263,-0.7939 -0.589,-0.66092 0.581,-0.36572 0.184,-1.24426 -0.457,-0.80499 -0.729,0.94402 -1.027,-1.12638 -0.749,0.20553 -0.241,-0.44632 -0.695,0.33147 -0.508,-0.35263 0.636,-0.26497 -0.884,-0.48964 0.746,-4.80576 -3.414,-0.19546 -0.93,0.66394 0.224,-1.28859 -0.7,-0.15616 -0.1,-0.54505 -1.57,0.28814 -0.469,-0.68308 0.12,-0.45741 0.865,0.0816 0.084,-0.55715 -0.512,-0.50173 0.697,-0.93798 -0.098,-1.37926 -1.516,-0.98936 -0.07,0.73144 -1.102,-0.18941 -0.406,0.89566 -0.444,0.005 -0.044,-1.30168 0.745,-0.28311 -0.243,-1.23519 -1.148,1.15157 -0.515,-0.73346 -1.438,-0.0796 -0.25,0.56722 0.447,1.03671 -1.082,0.53297 0.051,0.49669 -1.374,0.48259 -0.086,1.24527 -0.276,-0.6186 -0.666,0.19747 0.136,-0.54506 -0.442,0.0363 -0.809,0.44028 0.55,0.43624 -0.324,0.16926 -0.537,-0.3496 -0.828,0.58536 -0.762,-0.5914 -0.154,1.25534 -0.522,-0.45539 -0.092,0.58435 -0.695,0.0846 0.161,-2.61647 -1.021,-0.0473 0.332,-0.77477 -1.362,-0.22769 -0.826,0.4302 -0.274,-0.68006 -1.182,0.38385 -0.348,-1.1969 -0.467,0.72338 -0.138,-0.42617 -0.547,0.46042 -0.037,-1.24325 -0.441,0.37983 0.137,0.92488 -0.809,0.16422 0.803,0.61861 0.091,1.4246 -1.493,-0.134 -0.737,0.47554 -0.706,-0.70323 -0.313,0.83521 -0.395,-0.21157 -0.506,-1.54953 1.023,-1.70469 0.502,-0.0876 -0.114,-0.60853 -2.193,-2.09761 0.919,-0.91883 -1.005,-1.33897 -0.907,-0.0826 0.162,-0.6045 0.954,-0.14911 0.098,-0.50576 1.637,0.35766 -0.241,1.613 0.322,0.96921 2.039,0.23979 0.549,1.09212 3.478,-0.71733 0.843,0.91682 -0.114,1.85278 0.881,-0.0242 0.03,0.38487 0.744,-0.63372 -0.413,-0.58032 0.48,-0.70524 -1.151,-0.008 0.162,-0.82514 -1.197,-0.33651 1.45,-1.73994 -0.12,-0.32643 -0.946,0.48662 0.067,-0.61155 0.606,-0.11284 0.272,-0.77175 2.317,0.30931 -0.087,-2.61144 -0.87,-0.009 -0.259,-0.81305 -1.187,-0.32744 -0.223,0.64278 0.852,1.8004 -0.668,0.43524 -0.594,-0.82615 0.081,-0.84932 -1.667,-0.14709 0.033,-1.19086 -1.03,0.43423 -1.67,-0.5773 -0.842,1.08709 -0.143,1.60595 -0.623,0.0846 -0.538,-0.65286 -2.34,-0.0121 -0.271,-0.69316 0.528,-0.47251 -1.486,-1.13344 0.084,-0.94805 0.627,-0.50375 0.596,0.30326 0.046,-0.98634 0.62,-0.71835 -2.16,0.21258 -0.893,-1.1828 -0.583,-0.10075 -0.828,-1.60897 0.793,-2.87338 -0.371,-0.96821 1.432,-0.53598 0.329,-3.46982 -0.765,0.2821 -1.342,-0.40905 0.435,-1.01455 -0.216,-1.18784 0.475,-0.42113 1.67,1.34803 2.2,0.39796 0.395,-0.4171 0.967,0.008 -0.123,0.51584 0.792,0.11787 1.574,-2.61647 -0.459,-0.48158 0.536,-0.13601 0.01,-0.97425 -0.78,-0.59543 0.906,-0.82212 -0.34,-0.57729 -0.68,-0.0907 -0.12,-0.81406 -1.007,0.11788 -0.715,-2.46333 -1.193,-1.21202 0.032,-0.3355 1.145,0.13803 0.056,-2.91166 1.092,-0.41409 0.728,0.6045 0.184,-0.73849 -1.711,-1.64222 0.433,-1.93137 -0.871,-0.18841 0.915,-1.47195 1.622,-0.9007 2.208,-0.37378 5.454,0.80499 0,0 2.029,0.19847 1.101,0.76772 1.197,-0.21964 1.739,0.46345 1.853,-0.66696 2.39,0.79995 0.72,-0.93395 0.573,1.25333 0.961,0.37882 0.34,-0.47453 0.813,-0.001 0.321,-1.12135 1.213,-0.62364 0.391,-2.22858 1.247,0.0474 1.873,-1.13041 3.212,0.53599 1.212,-0.92791 2.023,1.57573 1.285,0.0655 1.287,-1.39136 0.028,-1.51326 0.525,0.0796 0.204,0.93697 0.792,0.1078 -0.105,-1.67345 0.42,-0.44532 2.207,-0.94704 3.049,0.62464 0.881,-0.49065 0.138,-5.86766 0.854,-1.16467 3.359,-0.45941 1.478,-1.04982 3.158,-0.69013 2.655,-1.478 0.74,0.85537 1.08,-0.16926 0.842,1.32183 1.174,-0.0927 1.879,-2.25578 0.456,-1.49815 -0.766,-0.85134 -0.867,-0.23575 0.375,-0.96417 0.76,-1.27247 1.842,-0.43927 1.01,-1.30673 0.4,0.69719 1.275,0.0554 0.82,1.19893 0.374,1.86084 0.825,0.35162 0.3,0.96014 0.56,-0.84629 1.107,0.7536 0.08,0.55413 2.228,0.59442 0.864,-0.54506 -1.037,-0.81103 0.218,-0.96921 0.456,-0.1068 -0.054,-1.15257 -1.944,-0.47554 -0.073,0.67401 -2.712,-1.16567 0.638,-0.95108 -0.455,-0.93193 0.588,-0.46043 0.533,1.1556 0.538,0.17127 0.753,-0.72942 0.291,-1.2634 1.341,-0.66092 2.02,1.10321 -0.357,0.71532 1.803,-0.20754 2.234,0.85335 0.552,-0.55211 0.24,-2.09358 0.9,0.008 -0.167,-1.21303 1.798,0.47353 1.157,-0.74857 2.434,-0.41106 0.393,-1.96865 1.792,0.0494 1.204,-1.55053 0.986,0.73446 0.917,-0.0977 1.628,-1.91526 0.167,-1.99081 0.466,-0.66696 -0.435,-0.44229 1.428,-2.15605 0.114,-0.84126 4.307,-2.33034 0.218,-0.45337 -0.722,-0.8997 0,0 0.895,-0.94201 3.155,-1.23418 1.526,-1.44979 2.84,0.31535 0.357,0.72842 1.346,0.68006 0.535,-0.1471 -0.006,-1.36415 0.648,-0.30225 0.16,0.53297 0.508,-0.0584 0.075,-2.24874 0.507,0.38184 0.159,-0.32139 -1.236,-1.23519 0.559,-0.4433 0.085,-1.11328 0.732,-0.1743 0.443,-0.71431 -1.227,-0.23576 1.047,-1.14754 -0.485,-0.90171 2.36,-2.80588 0.526,0.77678 0.502,-0.0484 0.147,1.53845 0.494,-0.0736 -0.389,1.06291 1.368,0.46043 0.226,0.49065 -0.729,0.87552 0.09,0.81103 0.966,0.91279 0.668,-1.2775 2.266,-0.98332 0.549,-1.40949 -0.357,-0.54707 0.48,-0.43524 0.958,0.65387 0.831,-0.0655 0.151,1.01354 0.854,0.34255 1.769,-0.73144 0.759,0.20251 0.102,-1.18784 -0.436,0.22366 -0.462,-0.56319 1.548,-2.06738 -1.19,-0.22065 -0.117,-0.44229 0.567,-0.41005 -0.962,-0.0433 0.074,-1.11933 0.825,-0.33449 1.716,-2.61848 1.439,0.66897 0.07,0.58335 0.3,-1.10523 0.978,0.19445 0.281,-0.72238 1.606,-0.23172 0.055,-0.70626 0.783,0.0282 0.314,-0.63472 -1.354,-1.49613 0.703,0.0796 -0.722,-0.74857 -0.351,0.88962 -0.496,-1.613 0.859,-0.44733 1.309,0.30426 0.977,1.12034 -0.146,-1.19691 0.546,-0.0151 0.07,-0.46345 -0.389,-1.075 0.29,-0.17933 0.427,0.54707 0.246,-0.25893 0.173,0.8866 -0.421,-0.0443 0.039,0.34859 0.752,0.12594 0.315,-1.5183 0.677,0.53297 0.537,-0.85134 -0.212,-0.7133 0.607,-0.7385 1.544,3.04264 0.548,0.10277 -0.365,0.5914 0.838,1.48605 0.717,0.23072 -0.848,-1.56666 0.994,-0.66394 1.74,4.20932 1.457,0.4836 1.827,-0.12392 1.146,1.27348 0.862,-0.0786 0.594,-0.60853 3.787,-0.35967 0.079,-1.65532 0.552,0.34759 0.191,-0.35766 -0.421,-0.35464 0.758,0.1219 -0.468,-0.41105 0.681,0.22467 0.661,-0.61055 -0.289,-0.54001 0.524,-0.63977 -0.534,-1.04074 1.184,0.72439 0.372,-0.88055 1.605,-0.97828 0.451,1.15459 0.524,-0.9279 0.875,0.0564 -0.007,-0.63775 -0.72,0.10075 -0.586,-1.05082 1.452,0.0443 0.08,-0.77376 0.776,0.12392 -0.173,0.70122 0.527,0.52491 0,0 0.878,0.54405 -3.728,4.32417 -0.604,1.85279 -1.844,1.75808 -2.297,3.46075 -4.825,4.53576 -0.023,0.93294 -8.484,4.31511 -3.07,2.10768 -0.901,1.5183 -2.5,2.32631 0,0.73447 -1.373,1.87595 -2.744,2.95298 -12.682,6.47518 -5.007,3.89498 -1.482,1.88201 -0.541,2.01499 -0.477,0.23072 0.151,0.96115 1.163,1.01657 0.89,-0.24886 -0.238,2.48751 -0.903,0.51383 z" />
 </svg>
        </div>
      </div>
      
      <!-- State names at bottom - inside same container -->
      <div class="state-panel">
        <div class="state-list-container" id="stateList"></div>
      </div>
    </div>
    
    <div class="score" id="scoreLine"></div>
    <div class="footer-note">Neon mode ‚Ä¢ Kids friendly ‚Ä¢ India states + UTs</div>
  </div>

  <!-- Modal for past scores -->
  <div id="scoresModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Past Game Scores</h3>
        <button class="close-btn" id="closeModal">&times;</button>
      </div>
      <div id="scoresList"></div>
    </div>
  </div>

<script>
(function(){

  // Normalize name for comparison
  const norm = s => s.toLowerCase().replace(/&/g,'and').replace(/\s+/g,' ').replace(/[^a-z ]/g,'').trim();

  // Collect state/UT paths from SVG
  const svgEl = document.querySelector('#map svg');
  const paths = Array.from(svgEl.querySelectorAll('path[id^="IN-"]'));
  // Use title attribute for names (fallback to id)
  const regions = paths.map(p => ({ id: p.id, name: (p.getAttribute('title')||p.id).trim(), el: p }));

  // Build unique list (some maps have duplicate small islands with same title)
  const seen = new Set();
  const uniqueRegions = [];
  for (const r of regions) {
    const key = norm(r.name);
    if (!seen.has(key)) { seen.add(key); uniqueRegions.push(r); }
  }

  const stateListEl = document.getElementById('stateList');
  const remainingCount = document.getElementById('remainingCount');
  const scoreCount = document.getElementById('scoreCount');
  const scoreLine = document.getElementById('scoreLine');
  const gameStatus = document.getElementById('gameStatus');
  const timerDisplay = document.getElementById('timerDisplay');
  const btnStart = document.getElementById('btnStart');
  const btnStop = document.getElementById('btnStop');
  const btnReset = document.getElementById('btnReset');
  const btnScores = document.getElementById('btnScores');
  const scoresModal = document.getElementById('scoresModal');
  const closeModal = document.getElementById('closeModal');
  const scoresList = document.getElementById('scoresList');

  // Game state variables
  let gameActive = false;
  let currentGlowingState = null;
  let remainingStates = [];
  let score = 0;
  let totalStates = 0;
  let timerInterval = null;
  let startTime = null;
  let elapsedTime = 0;
  
  // Store user selections
  const userSelections = new Map();

  // Load past scores from localStorage
  let pastScores = JSON.parse(localStorage.getItem('indiaMapGameScores')) || [];

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function updateCounters() {
    remainingCount.textContent = `Remaining: ${remainingStates.length}`;
    scoreCount.textContent = `Score: ${score}`;
  }

  function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  }

  function startTimer() {
    startTime = Date.now();
    timerInterval = setInterval(() => {
      elapsedTime = Math.floor((Date.now() - startTime) / 1000);
      timerDisplay.textContent = formatTime(elapsedTime);
    }, 1000);
  }

  function stopTimer() {
    if (timerInterval) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
  }

  function resetTimer() {
    stopTimer();
    elapsedTime = 0;
    timerDisplay.textContent = formatTime(0);
  }

  function buildStateList() {
    stateListEl.innerHTML = '';
    const order = shuffle(uniqueRegions.slice());
    
    for (const r of order) {
      const chip = document.createElement('button');
      chip.className = 'state-name';
      chip.textContent = r.name;
      chip.dataset.name = r.name;
      chip.dataset.id = r.id;
      
      chip.addEventListener('click', () => onStateNameClick(chip));
      stateListEl.appendChild(chip);
    }
  }

  function onStateNameClick(chip) {
    if (!gameActive || !currentGlowingState) return;
    
    const selectedName = chip.dataset.name;
    const isCorrect = norm(selectedName) === norm(currentGlowingState.name);
    
    // Store the selection without immediate feedback
    userSelections.set(currentGlowingState.id, {
      name: selectedName,
      correct: isCorrect,
      chip: chip
    });
    
    // Update score (but don't show yet)
    if (isCorrect) {
      score++;
    }
    
    // Remove the state from remaining states
    remainingStates = remainingStates.filter(state => state.id !== currentGlowingState.id);
    
    // Move to next state or end game
    if (remainingStates.length > 0) {
      nextGlowingState();
    } else {
      endGame();
    }
    
    updateCounters();
  }

  function startGame() {
    gameActive = true;
    btnStart.disabled = true;
    btnStop.disabled = false;
    btnReset.disabled = true;
    
    // Reset game state
    score = 0;
    userSelections.clear();
    remainingStates = shuffle([...uniqueRegions]);
    totalStates = remainingStates.length;
    
    // Reset all styling
    paths.forEach(p => {
      p.classList.remove('glow', 'correct', 'wrong');
    });
    
    stateListEl.querySelectorAll('.state-name').forEach(chip => {
      chip.classList.remove('correct', 'wrong');
    });
    
    // Start timer
    startTimer();
    
    // Start with first state
    nextGlowingState();
    updateCounters();
    gameStatus.textContent = "Map par glow kar rahe state ka naam select karo";
  }

  function stopGame() {
    gameActive = false;
    btnStart.disabled = false;
    btnStop.disabled = true;
    btnReset.disabled = false;
    
    // Stop timer
    stopTimer();
    
    // Remove glow from current state
    if (currentGlowingState) {
      currentGlowingState.el.classList.remove('glow');
    }
    
    gameStatus.textContent = "Game stopped. Start Game dabao ya Reset karo";
  }

  function nextGlowingState() {
    // Remove glow from previous state
    if (currentGlowingState) {
      currentGlowingState.el.classList.remove('glow');
    }
    
    // Get next state
    currentGlowingState = remainingStates[0];
    
    // Add glow effect to current state
    currentGlowingState.el.classList.add('glow');
    
    gameStatus.textContent = `Yeh state kaunsi hai? (${totalStates - remainingStates.length + 1}/${totalStates})`;
  }

  function endGame() {
    gameActive = false;
    currentGlowingState = null;
    btnStart.disabled = false;
    btnStop.disabled = true;
    btnReset.disabled = false;
    
    // Stop timer
    stopTimer();
    
    // Calculate final score
    const percentage = Math.round((score / totalStates) * 100);
    
    // Save score to past scores
    const scoreData = {
      score: score,
      total: totalStates,
      percentage: percentage,
      time: elapsedTime,
      date: new Date().toLocaleDateString('hi-IN')
    };
    
    pastScores.unshift(scoreData);
    
    // Keep only last 10 scores
    if (pastScores.length > 10) {
      pastScores = pastScores.slice(0, 10);
    }
    
    // Save to localStorage
    localStorage.setItem('indiaMapGameScores', JSON.stringify(pastScores));
    
    // Apply final styling to map and list
    paths.forEach(p => {
      const selection = userSelections.get(p.id);
      if (selection) {
        if (selection.correct) {
          p.classList.add('correct');
        } else {
          p.classList.add('wrong');
        }
      }
    });
    
    // Apply final styling to state names list
    stateListEl.querySelectorAll('.state-name').forEach(chip => {
      const selection = Array.from(userSelections.values()).find(s => s.chip === chip);
      if (selection) {
        if (selection.correct) {
          chip.classList.add('correct');
        } else {
          chip.classList.add('wrong');
        }
      }
    });
    
    scoreLine.innerHTML = `Game Over! Aapka score: <span style="color: #5dffa1">${score}/${totalStates}</span> (${percentage}%) | Time: <span style="color: #ff5e7a">${formatTime(elapsedTime)}</span>`;
    gameStatus.textContent = "Phir se khelne ke liye Start Game dabao";
  }

  function resetGame() {
    gameActive = false;
    currentGlowingState = null;
    btnStart.disabled = false;
    btnStop.disabled = true;
    btnReset.disabled = false;
    
    // Reset timer
    resetTimer();
    
    // Reset all styling
    paths.forEach(p => {
      p.classList.remove('glow', 'correct', 'wrong');
    });
    
    stateListEl.querySelectorAll('.state-name').forEach(chip => {
      chip.classList.remove('correct', 'wrong');
    });
    
    scoreLine.textContent = '';
    gameStatus.textContent = "Game start karne ke liye Start Game dabao";
    updateCounters();
  }

  function showPastScores() {
    if (pastScores.length === 0) {
      scoresList.innerHTML = '<div class="empty-scores">Koi past scores nahi hai. Pehle game khelo!</div>';
    } else {
      scoresList.innerHTML = pastScores.map((score, index) => `
        <div class="score-item">
          <div class="score-header">
            <span>Game ${index + 1}</span>
            <span class="score-date">${score.date}</span>
          </div>
          <div class="score-details">
            <span class="score-value">Score: ${score.score}/${score.total} (${score.percentage}%)</span>
            <span class="score-time">Time: ${formatTime(score.time)}</span>
          </div>
        </div>
      `).join('');
    }
    
    scoresModal.style.display = 'flex';
  }

  // Event listeners
  btnStart.addEventListener('click', startGame);
  btnStop.addEventListener('click', stopGame);
  btnReset.addEventListener('click', resetGame);
  btnScores.addEventListener('click', showPastScores);
  
  closeModal.addEventListener('click', () => {
    scoresModal.style.display = 'none';
  });
  
  window.addEventListener('click', (e) => {
    if (e.target === scoresModal) {
      scoresModal.style.display = 'none';
    }
  });

  // Initial setup
  buildStateList();
  updateCounters();

})();
</script>
</body>
</html>
